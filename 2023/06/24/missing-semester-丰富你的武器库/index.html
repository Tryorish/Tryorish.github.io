<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>missing-semester: 丰富你的武器库 | Tryorish</title><meta name="author" content="Tryorish"><meta name="copyright" content="Tryorish"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="写在前面： 无论是热衷于cs的学生，亦或是已经从业的工程师，在与计算机打交道时，都不可避免的要使用到各种各样形形色色的工具，我们必将要花大量的时间在这些工具上，这些工具也注定要陪伴我们走很长很长的路。当我们困惑于一个操作该怎么执行时，可能就是一条不为我们熟知的命令的事儿，而我们却耗费了大量的时间，这时候，去花少量的时间去了解工具如何使用就是必要的了。所以，来吧，来这个商店购买你的装备，去丰富你的武">
<meta property="og:type" content="article">
<meta property="og:title" content="missing-semester: 丰富你的武器库">
<meta property="og:url" content="http://example.com/2023/06/24/missing-semester-%E4%B8%B0%E5%AF%8C%E4%BD%A0%E7%9A%84%E6%AD%A6%E5%99%A8%E5%BA%93/index.html">
<meta property="og:site_name" content="Tryorish">
<meta property="og:description" content="写在前面： 无论是热衷于cs的学生，亦或是已经从业的工程师，在与计算机打交道时，都不可避免的要使用到各种各样形形色色的工具，我们必将要花大量的时间在这些工具上，这些工具也注定要陪伴我们走很长很长的路。当我们困惑于一个操作该怎么执行时，可能就是一条不为我们熟知的命令的事儿，而我们却耗费了大量的时间，这时候，去花少量的时间去了解工具如何使用就是必要的了。所以，来吧，来这个商店购买你的装备，去丰富你的武">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/4.jfif">
<meta property="article:published_time" content="2023-06-24T02:28:34.000Z">
<meta property="article:modified_time" content="2023-06-30T02:36:36.897Z">
<meta property="article:author" content="Tryorish">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/4.jfif"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/06/24/missing-semester-%E4%B8%B0%E5%AF%8C%E4%BD%A0%E7%9A%84%E6%AD%A6%E5%99%A8%E5%BA%93/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'missing-semester: 丰富你的武器库',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2023-06-30 10:36:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/iconfont.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/tit.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a></div></div></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/4.jfif')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Tryorish</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">missing-semester: 丰富你的武器库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-24T02:28:34.000Z" title="发表于 2023-06-24 10:28:34">2023-06-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-30T02:36:36.897Z" title="更新于 2023-06-30 10:36:36">2023-06-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="missing-semester: 丰富你的武器库"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id><a href="#" class="headerlink" title></a></h2><h2 id="写在前面："><a href="#写在前面：" class="headerlink" title="写在前面："></a>写在前面：</h2><blockquote>
<p>无论是热衷于cs的学生，亦或是已经从业的工程师，在与计算机打交道时，都不可避免的要使用到各种各样形形色色的工具，我们必将要花大量的时间在这些工具上，这些工具也注定要陪伴我们走很长很长的路。当我们困惑于一个操作该怎么执行时，可能就是一条不为我们熟知的命令的事儿，而我们却耗费了大量的时间，这时候，去花少量的时间去了解工具如何使用就是必要的了。所以，来吧，来这个商店购买你的装备，去丰富你的武器库！</p>
<p><a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/">课程链接</a></p>
<p>本文为自己的学习笔记</p>
</blockquote>
<h2 id="一-Course-overview-the-shell"><a href="#一-Course-overview-the-shell" class="headerlink" title="一.Course overview + the shell"></a>一.Course overview + the shell</h2><h3 id="Using-the-shell"><a href="#Using-the-shell" class="headerlink" title="Using the shell"></a>Using the shell</h3><ul>
<li>date</li>
<li>echo</li>
<li>$PATH</li>
<li>which 在环境变量找</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">missing:~$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin:/sbin:/bin</span><br><span class="line">missing:~$ <span class="built_in">which</span> <span class="built_in">echo</span></span><br><span class="line">/bin/<span class="built_in">echo</span></span><br><span class="line">missing:~$ /bin/<span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/sbin:/usr/bin:/sbin:/bin</span><br></pre></td></tr></table></figure>

<h3 id="Navigating-in-the-shell"><a href="#Navigating-in-the-shell" class="headerlink" title="Navigating in the shell"></a>Navigating in the shell</h3><ul>
<li>pwd</li>
<li>cd</li>
<li>.    ..</li>
<li>man</li>
</ul>
<h3 id="Connecting-programs"><a href="#Connecting-programs" class="headerlink" title="Connecting programs"></a>Connecting programs</h3><ul>
<li>&lt;   &gt;   &gt;&gt;</li>
<li>cat</li>
<li>pipe</li>
</ul>
<h3 id="A-versatile-and-powerful-tool"><a href="#A-versatile-and-powerful-tool" class="headerlink" title="A versatile and powerful tool"></a>A versatile and powerful tool</h3><ul>
<li><p>sudo</p>
</li>
<li><p>tee</p>
<p> the <code>tee</code> program is the one to open the <code>/sys</code> file for writing, and <em>it</em> is running as <code>root</code>, the permissions all work out.</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> 3 | sudo tee brightness <span class="comment"># 把屏幕亮度调为3</span></span><br></pre></td></tr></table></figure>

<h2 id="二-Shell-Tools-and-Scripting"><a href="#二-Shell-Tools-and-Scripting" class="headerlink" title="二.Shell Tools and Scripting"></a>二.Shell Tools and Scripting</h2><h3 id="Shell-Scripting"><a href="#Shell-Scripting" class="headerlink" title="Shell Scripting"></a>Shell Scripting</h3><p>声明变量时等号两边不能有空格，如果有，bash会把foo当成一个程序去调用，= 和 bar分别为第1，2个参数，而foo仅仅是我们起的变量名而已。</p>
<p>通过$调用变量</p>
<p>双引号会对$进行扩展，而单引号会保留字符串字面值</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">foo=bar <span class="comment">#声明变量 foo = bar 是错误的</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$foo</span>&quot;</span> </span><br><span class="line"><span class="comment"># prints bar</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;$foo&#x27;</span></span><br><span class="line"><span class="comment"># prints $foo</span></span><br></pre></td></tr></table></figure>

<p>函数可以获取参数并操作它们，如下将创建一个文件夹，并将工作目录切换到其中，文件夹名字为函数后跟的参数</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">mcd</span></span> () &#123;</span><br><span class="line">	mkdir -p <span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">	<span class="built_in">cd</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一些代指参数的变量</p>
<ol>
<li><code>$0</code> - Name of the script</li>
<li><code>$1</code> to <code>$9</code> - Arguments to the script. <code>$1</code> is the first argument and so on.</li>
<li><code>$@</code> - All the arguments</li>
<li><code>$#</code> - Number of arguments</li>
<li><code>$?</code> - Return code of the previous command</li>
<li><code>$$</code> - Process identification number (PID) for the current script</li>
<li><code>!!</code> - Entire last command, including arguments. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing <code>sudo !!</code></li>
<li><code>$_</code> - Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing <code>Esc</code> followed by <code>.</code> or <code>Alt+.</code></li>
</ol>
<p>与或短路。返回值为0表示正常，其他发生错误。 分号可以使多个命令在一行执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="literal">false</span> || <span class="built_in">echo</span> <span class="string">&quot;Oops, fail&quot;</span></span><br><span class="line"><span class="comment"># Oops, fail</span></span><br><span class="line"></span><br><span class="line"><span class="literal">true</span> || <span class="built_in">echo</span> <span class="string">&quot;Will not be printed&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="literal">true</span> &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;Things went well&quot;</span></span><br><span class="line"><span class="comment"># Things went well</span></span><br><span class="line"></span><br><span class="line"><span class="literal">false</span> &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;Will not be printed&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="literal">true</span> ; <span class="built_in">echo</span> <span class="string">&quot;This will always run&quot;</span></span><br><span class="line"><span class="comment"># This will always run</span></span><br><span class="line"></span><br><span class="line"><span class="literal">false</span> ; <span class="built_in">echo</span> <span class="string">&quot;This will always run&quot;</span></span><br><span class="line"><span class="comment"># This will always run</span></span><br></pre></td></tr></table></figure>

<p>It will iterate through the arguments we provide, <code>grep</code> for the string <code>foobar</code>, and append it to the file as a comment if it’s not found.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Starting program at <span class="subst">$(date)</span>&quot;</span> <span class="comment"># Date will be substituted</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Running program <span class="variable">$0</span> with <span class="variable">$#</span> arguments with pid $$&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    grep foobar <span class="string">&quot;<span class="variable">$file</span>&quot;</span> &gt; /dev/null 2&gt; /dev/null</span><br><span class="line">    <span class="comment"># When pattern is not found, grep has exit status 1</span></span><br><span class="line">    <span class="comment"># We redirect STDOUT and STDERR to a null register since we do not care about them</span></span><br><span class="line">    <span class="keyword">if</span> [[ $? -ne 0 ]]; <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;File <span class="variable">$file</span> does not have any foobar, adding one&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;# foobar&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$file</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<p>When performing comparisons in bash, try to use double brackets <code>[[ ]]</code> in favor of simple brackets <code>[ ]</code></p>
<p>Wildcards</p>
<ul>
<li>you can use <code>?</code> and <code>*</code> to match one or any amount of characters respectively.</li>
</ul>
<p>Curly braces <code>&#123;&#125;</code> </p>
<ul>
<li> Whenever you have a common substring in a series of commands, you can use curly braces for bash to expand this automatically. This comes in very handy when moving or converting files.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">convert image.&#123;png,jpg&#125;</span><br><span class="line"><span class="comment"># Will expand to</span></span><br><span class="line">convert image.png image.jpg</span><br><span class="line"></span><br><span class="line">cp /path/to/project/&#123;foo,bar,baz&#125;.sh /newpath</span><br><span class="line"><span class="comment"># Will expand to</span></span><br><span class="line">cp /path/to/project/foo.sh /path/to/project/bar.sh /path/to/project/baz.sh /newpath</span><br><span class="line"></span><br><span class="line"><span class="comment"># Globbing techniques can also be combined</span></span><br><span class="line">mv *&#123;.py,.sh&#125; folder</span><br><span class="line"><span class="comment"># Will move all *.py and *.sh files</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mkdir foo bar</span><br><span class="line"><span class="comment"># This creates files foo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h</span></span><br><span class="line">touch &#123;foo,bar&#125;/&#123;a..h&#125;</span><br><span class="line">touch foo/x bar/y</span><br><span class="line"><span class="comment"># Show differences between files in foo and bar</span></span><br><span class="line">diff &lt;(ls foo) &lt;(ls bar)</span><br><span class="line"><span class="comment"># Outputs</span></span><br><span class="line"><span class="comment"># &lt; x</span></span><br><span class="line"><span class="comment"># ---</span></span><br><span class="line"><span class="comment"># &gt; y</span></span><br></pre></td></tr></table></figure>

<p>Writing <code>bash</code> scripts can be tricky and unintuitive. There are tools like <a target="_blank" rel="noopener" href="https://github.com/koalaman/shellcheck">shellcheck</a> that will help you find errors in your sh/bash scripts.</p>
<p>It is good practice to write shebang lines using the <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/env.1.html"><code>env</code></a> command that will resolve to wherever the command lives in the system, increasing the portability of your scripts.For this example the shebang line would look like <code>#!/usr/bin/env python</code>. </p>
<h3 id="Shell-Tools"><a href="#Shell-Tools" class="headerlink" title="Shell Tools"></a>Shell Tools</h3><h4 id="Finding-how-to-use-commands"><a href="#Finding-how-to-use-commands" class="headerlink" title="Finding how to use commands"></a>Finding how to use commands</h4><ul>
<li>-h or –help flags</li>
<li>man</li>
<li> <a target="_blank" rel="noopener" href="https://tldr.sh/">TLDR pages</a> are a nifty complementary solution that focuses on giving example use cases of a command so you can quickly figure out which options to use</li>
</ul>
<h4 id="Finding-files"><a href="#Finding-files" class="headerlink" title="Finding files"></a>Finding files</h4><p><code>find</code> will recursively search for files matching some criteria. Some examples:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Find all directories named src</span></span><br><span class="line">find . -name src -<span class="built_in">type</span> d</span><br><span class="line"><span class="comment"># Find all python files that have a folder named test in their path</span></span><br><span class="line">find . -path <span class="string">&#x27;*/test/*.py&#x27;</span> -<span class="built_in">type</span> f</span><br><span class="line"><span class="comment"># Find all files modified in the last day</span></span><br><span class="line">find . -mtime -1</span><br><span class="line"><span class="comment"># Find all zip files with size in range 500k to 10M</span></span><br><span class="line">find . -size +500k -size -10M -name <span class="string">&#x27;*.tar.gz&#x27;</span></span><br></pre></td></tr></table></figure>

<p>Beyond listing files, find can also perform actions over files that match your query</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Delete all files with .tmp extension</span></span><br><span class="line">find . -name <span class="string">&#x27;*.tmp&#x27;</span> -<span class="built_in">exec</span> rm &#123;&#125; \;</span><br><span class="line"><span class="comment"># Find all PNG files and convert them to JPG</span></span><br><span class="line">find . -name <span class="string">&#x27;*.png&#x27;</span> -<span class="built_in">exec</span> convert &#123;&#125; &#123;&#125;.jpg \;</span><br></pre></td></tr></table></figure>

<p> <a target="_blank" rel="noopener" href="https://github.com/sharkdp/fd"><code>fd</code></a> is a simple, fast, and user-friendly alternative to <code>find</code>.</p>
<p>Most would agree that <code>find</code> and <code>fd</code> are good, but some of you might be wondering about the efficiency of looking for files every time versus compiling some sort of index or database for quickly searching. That is what <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/locate.1.html"><code>locate</code></a> is for. <code>locate</code> uses a database that is updated using <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/updatedb.1.html"><code>updatedb</code></a>. In most systems, <code>updatedb</code> is updated daily via <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man8/cron.8.html"><code>cron</code></a>. Therefore one trade-off between the two is speed vs freshness. <strong>Moreover <code>find</code> and similar tools can also find files using attributes such as file size, modification time, or file permissions, while <code>locate</code> just uses the file name</strong>. A more in-depth comparison can be found <a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/60205/locate-vs-find-usage-pros-and-cons-of-each-other">here</a>.</p>
<h4 id="Finding-code"><a href="#Finding-code" class="headerlink" title="Finding code"></a>Finding code</h4><p> <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/grep.1.html"><code>grep</code></a>, a generic tool for matching patterns from the input text.</p>
<ul>
<li> <code>-C</code> for getting <strong>C</strong>ontext around the matching line. For example, <code>grep -C 5</code> will print 5 lines before and after the match</li>
<li><code>-v</code> for in<strong>v</strong>erting the match</li>
<li><code>-R</code> for  quickly searching through many files, since it will <strong>R</strong>ecursively go into directories and look for files for the matching string.</li>
</ul>
<p>Many <code>grep</code> alternatives have been developed, including <a target="_blank" rel="noopener" href="https://github.com/beyondgrep/ack3">ack</a>, <a target="_blank" rel="noopener" href="https://github.com/ggreer/the_silver_searcher">ag</a> and <a target="_blank" rel="noopener" href="https://github.com/BurntSushi/ripgrep">rg</a>. All of them are fantastic and pretty much provide the same functionality. For now I am sticking with ripgrep (<code>rg</code>), given how fast and intuitive it is. Some examples:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Find all python files where I used the requests library</span></span><br><span class="line">rg -t py <span class="string">&#x27;import requests&#x27;</span></span><br><span class="line"><span class="comment"># Find all files (including hidden files) without a shebang line</span></span><br><span class="line">rg -u --files-without-match <span class="string">&quot;^#\!&quot;</span></span><br><span class="line"><span class="comment"># Find all matches of foo and print the following 5 lines</span></span><br><span class="line">rg foo -A 5</span><br><span class="line"><span class="comment"># Print statistics of matches (# of matched lines and files )</span></span><br><span class="line">rg --stats PATTERN</span><br></pre></td></tr></table></figure>

<h4 id="Finding-shell-commands"><a href="#Finding-shell-commands" class="headerlink" title="Finding shell commands"></a>Finding shell commands</h4><ul>
<li><code>history</code></li>
<li><code>Ctrl+R</code> to perform backwards search through your history. A nice addition on top of <code>Ctrl+R</code> comes with using <a target="_blank" rel="noopener" href="https://github.com/junegunn/fzf/wiki/Configuring-shell-key-bindings#ctrl-r">fzf</a> bindings. <code>fzf</code> is a general-purpose fuzzy finder that can be used with many commands.</li>
<li><strong>history-based autosuggestions</strong>. First introduced by the <a target="_blank" rel="noopener" href="https://fishshell.com/">fish</a> shell, this feature dynamically autocompletes your current shell command with the most recent command that you typed that shares a common prefix with it. </li>
</ul>
<h4 id="Directory-Navigation"><a href="#Directory-Navigation" class="headerlink" title="Directory Navigation"></a>Directory Navigation</h4><ul>
<li> writing shell aliases</li>
<li>creating symlinks with <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/ln.1.html">ln -s</a></li>
<li>Finding frequent and/or recent files and directories can be done through tools like <a target="_blank" rel="noopener" href="https://github.com/clvv/fasd"><code>fasd</code></a> and <a target="_blank" rel="noopener" href="https://github.com/wting/autojump"><code>autojump</code></a>. </li>
<li>More complex tools exist to quickly get an overview of a directory structure: <a target="_blank" rel="noopener" href="https://linux.die.net/man/1/tree"><code>tree</code></a>, <a target="_blank" rel="noopener" href="https://github.com/Canop/broot"><code>broot</code></a> or even full fledged file managers like <a target="_blank" rel="noopener" href="https://github.com/jarun/nnn"><code>nnn</code></a> or <a target="_blank" rel="noopener" href="https://github.com/ranger/ranger"><code>ranger</code></a>.</li>
</ul>
<h2 id="三-Editors-Vim"><a href="#三-Editors-Vim" class="headerlink" title="三.Editors (Vim)"></a>三.Editors (Vim)</h2><h3 id="Modal-editing"><a href="#Modal-editing" class="headerlink" title="Modal editing"></a>Modal editing</h3><p> Vim has multiple operating modes.</p>
<ul>
<li><strong>Normal</strong>: for moving around a file and making edits</li>
<li><strong>Insert</strong>: for inserting text</li>
<li><strong>Replace</strong>: for replacing text</li>
<li><strong>Visual</strong> (plain, line, or block): for selecting blocks of text</li>
<li><strong>Command-line</strong>: for running a command</li>
</ul>
<p>You change modes by pressing <code>&lt;ESC&gt;</code> (the escape key) to switch from any mode back to Normal mode. From Normal mode, enter Insert mode with <code>i</code>, Replace mode with <code>R</code>, Visual mode with <code>v</code>, Visual Line mode with <code>V</code>, Visual Block mode with <code>&lt;C-v&gt;</code> (Ctrl-V, sometimes also written <code>^V</code>), and Command-line mode with <code>:</code>.</p>
<h3 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h3><h4 id="Inserting-text"><a href="#Inserting-text" class="headerlink" title="Inserting text"></a>Inserting text</h4><h4 id="Buffers-tabs-and-windows"><a href="#Buffers-tabs-and-windows" class="headerlink" title="Buffers, tabs, and windows"></a>Buffers, tabs, and windows</h4><h4 id="Command-line"><a href="#Command-line" class="headerlink" title="Command-line"></a>Command-line</h4><ul>
<li><code>:q</code> quit (close window)</li>
<li><code>:w</code> save (“write”)</li>
<li><code>:wq</code> save and quit</li>
<li><code>:e &#123;name of file&#125;</code> open file for editing</li>
<li><code>:ls</code> show open buffers</li>
<li><code>:help &#123;topic&#125;</code> open help<ul>
<li><code>:help :w</code> opens help for the <code>:w</code> command</li>
<li><code>:help w</code> opens help for the <code>w</code> movement</li>
</ul>
</li>
</ul>
<h3 id="Vim’s-interface-is-a-programming-language"><a href="#Vim’s-interface-is-a-programming-language" class="headerlink" title="Vim’s interface is a programming language"></a>Vim’s interface is a programming language</h3><h4 id="Movement"><a href="#Movement" class="headerlink" title="Movement"></a>Movement</h4><ul>
<li>Basic movement: <code>hjkl</code> (left, down, up, right)</li>
<li>Words: <code>w</code> (next word), <code>b</code> (beginning of word), <code>e</code> (end of word)</li>
<li>Lines: <code>0</code> (beginning of line), <code>^</code> (first non-blank character), <code>$</code> (end of line)</li>
<li>Screen: <code>H</code> (top of screen), <code>M</code> (middle of screen), <code>L</code> (bottom of screen)</li>
<li>Scroll: <code>Ctrl-u</code> (up), <code>Ctrl-d</code> (down)</li>
<li>File: <code>gg</code> (beginning of file), <code>G</code> (end of file)</li>
<li>Line numbers: <code>:&#123;number&#125;&lt;CR&gt;</code> or <code>&#123;number&#125;G</code> (line {number})</li>
<li>Misc: <code>%</code> (corresponding item)</li>
<li>Find: <code>f&#123;character&#125;</code>, <code>t&#123;character&#125;</code>, <code>F&#123;character&#125;</code>, <code>T&#123;character&#125;</code><ul>
<li>find/to forward/backward {character} on the current line</li>
<li><code>,</code> / <code>;</code> for navigating matches</li>
</ul>
</li>
<li>Search: <code>/&#123;regex&#125;</code>, <code>n</code> / <code>N</code> for navigating matches</li>
</ul>
<h4 id="Selection"><a href="#Selection" class="headerlink" title="Selection"></a>Selection</h4><p>Visual modes:</p>
<ul>
<li>Visual: <code>v</code></li>
<li>Visual Line: <code>V</code></li>
<li>Visual Block: <code>Ctrl-v</code></li>
</ul>
<p>Can use movement keys to make selection.</p>
<h4 id="Edits"><a href="#Edits" class="headerlink" title="Edits"></a>Edits</h4><ul>
<li><code>i</code> enter Insert mode<ul>
<li>but for manipulating/deleting text, want to use something more than backspace</li>
</ul>
</li>
<li><code>o</code> / <code>O</code> insert line below / above</li>
<li><code>d&#123;motion&#125;</code> delete {motion}<ul>
<li>e.g. <code>dw</code> is delete word, <code>d$</code> is delete to end of line, <code>d0</code> is delete to beginning of line</li>
</ul>
</li>
<li><code>c&#123;motion&#125;</code> change {motion}<ul>
<li>e.g. <code>cw</code> is change word</li>
<li>like <code>d&#123;motion&#125;</code> followed by <code>i</code></li>
</ul>
</li>
<li><code>x</code> delete character (equal do <code>dl</code>)</li>
<li><code>s</code> substitute character (equal to <code>cl</code>)</li>
<li>Visual mode + manipulation<ul>
<li>select text, <code>d</code> to delete it or <code>c</code> to change it</li>
</ul>
</li>
<li><code>u</code> to undo, <code>&lt;C-r&gt;</code> to redo</li>
<li><code>y</code> to copy / “yank” (some other commands like <code>d</code> also copy)</li>
<li><code>p</code> to paste</li>
<li>Lots more to learn: e.g. <code>~</code> flips the case of a character</li>
</ul>
<h4 id="Counts"><a href="#Counts" class="headerlink" title="Counts"></a>Counts</h4><p>You can combine nouns and verbs with a count, which will perform a given action a number of times.</p>
<ul>
<li><code>3w</code> move 3 words forward</li>
<li><code>5j</code> move 5 lines down</li>
<li><code>7dw</code> delete 7 words</li>
</ul>
<h4 id="Modifiers"><a href="#Modifiers" class="headerlink" title="Modifiers"></a>Modifiers</h4><p>You can use modifiers to change the meaning of a noun. Some modifiers are <code>i</code>, which means “inner” or “inside”, and <code>a</code>, which means “around”.</p>
<ul>
<li><code>ci(</code> change the contents inside the current pair of parentheses</li>
<li><code>ci[</code> change the contents inside the current pair of square brackets</li>
<li><code>da&#39;</code> delete a single-quoted string, including the surrounding single quotes</li>
</ul>
<h3 id="Advanced-Vim"><a href="#Advanced-Vim" class="headerlink" title="Advanced Vim"></a>Advanced Vim</h3><h4 id="Search-and-replace"><a href="#Search-and-replace" class="headerlink" title="Search and replace"></a>Search and replace</h4><p><code>:s</code> (substitute) command (<a target="_blank" rel="noopener" href="http://vim.wikia.com/wiki/Search_and_replace">documentation</a>).</p>
<ul>
<li><code>%s/foo/bar/g</code><ul>
<li>replace foo with bar globally in file</li>
</ul>
</li>
<li><code>%s/\[.*\](\(.*\))/\1/g</code><ul>
<li>replace named Markdown links with plain URLs</li>
</ul>
</li>
</ul>
<h4 id="Multiple-windows"><a href="#Multiple-windows" class="headerlink" title="Multiple windows"></a>Multiple windows</h4><ul>
<li><code>:sp</code> / <code>:vsp</code> to split windows</li>
<li>Can have multiple views of the same buffer.</li>
</ul>
<h3 id="Macros"><a href="#Macros" class="headerlink" title="Macros"></a>Macros</h3><ul>
<li><p><code>q&#123;character&#125;</code> to start recording a macro in register <code>&#123;character&#125;</code></p>
</li>
<li><p><code>q</code> to stop recording</p>
</li>
<li><p><code>@&#123;character&#125;</code> replays the macro</p>
</li>
<li><p>Macro execution stops on error</p>
</li>
<li><p><code>&#123;number&#125;@&#123;character&#125;</code> executes a macro {number} times</p>
</li>
<li><p>Macros can be recursive</p>
<ul>
<li>first clear the macro with <code>q&#123;character&#125;q</code></li>
<li>record the macro, with <code>@&#123;character&#125;</code> to invoke the macro recursively (will be a no-op until recording is complete)</li>
</ul>
</li>
<li><p>Example: convert xml to json (<a target="_blank" rel="noopener" href="https://missing.csail.mit.edu/2020/files/example-data.xml">file</a>)</p>
<ul>
<li><p>Array of objects with keys “name” / “email”</p>
</li>
<li><p>Use a Python program?</p>
</li>
<li><p>Use sed / regexes</p>
</li>
</ul>
</li>
</ul>
<pre><code>- `g/people/d`
- `%s/&lt;person&gt;/&#123;/g`
- `%s/&lt;name&gt;\(.*\)&lt;\/name&gt;/&quot;name&quot;: &quot;\1&quot;,/g`
- …    
</code></pre>
<ul>
<li><p>Vim commands / macros</p>
<ul>
<li><code>Gdd</code>, <code>ggdd</code> delete first and last lines</li>
<li>Macro to format a single element (register <code>e</code>)<ul>
<li>Go to line with <code>&lt;name&gt;</code></li>
<li><code>qe^r&quot;f&gt;s&quot;: &quot;&lt;ESC&gt;f&lt;C&quot;&lt;ESC&gt;q</code></li>
</ul>
</li>
<li>Macro to format a person<ul>
<li>Go to line with <code>&lt;person&gt;</code></li>
<li><code>qpS&#123;&lt;ESC&gt;j@eA,&lt;ESC&gt;j@ejS&#125;,&lt;ESC&gt;q</code></li>
</ul>
</li>
<li>Macro to format a person and go to the next person<ul>
<li>Go to line with <code>&lt;person&gt;</code></li>
<li><code>qq@pjq</code></li>
</ul>
</li>
<li>Execute macro until end of file<ul>
<li><code>999@q</code></li>
</ul>
</li>
<li>Manually remove last <code>,</code> and add <code>[</code> and <code>]</code> delimiters</li>
</ul>
</li>
</ul>
<h3 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h3><ul>
<li><code>vimtutor</code> is a tutorial that comes installed with Vim - if Vim is installed, you should be able to run <code>vimtutor</code> from your shell</li>
<li><a target="_blank" rel="noopener" href="https://vim-adventures.com/">Vim Adventures</a> is a game to learn Vim</li>
<li><a target="_blank" rel="noopener" href="http://vim.wikia.com/wiki/Vim_Tips_Wiki">Vim Tips Wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://vimways.org/2019/">Vim Advent Calendar</a> has various Vim tips</li>
<li><a target="_blank" rel="noopener" href="http://www.vimgolf.com/">Vim Golf</a> is <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Code_golf">code golf</a>, but where the programming language is Vim’s UI</li>
<li><a target="_blank" rel="noopener" href="https://vi.stackexchange.com/">Vi/Vim Stack Exchange</a></li>
<li><a target="_blank" rel="noopener" href="http://vimcasts.org/">Vim Screencasts</a></li>
<li><a target="_blank" rel="noopener" href="https://pragprog.com/titles/dnvim2/">Practical Vim</a> (book)</li>
</ul>
<h2 id="四-Data-Wrangling"><a href="#四-Data-Wrangling" class="headerlink" title="四.Data Wrangling"></a>四.Data Wrangling</h2><h3 id="Regular-expressions"><a href="#Regular-expressions" class="headerlink" title="Regular expressions"></a>Regular expressions</h3><p>Regular expressions are usually (though not always) surrounded by <code>/</code>.Very common patterns are:</p>
<ul>
<li><code>.</code> means “any single character” except newline</li>
<li><code>*</code> zero or more of the preceding match</li>
<li><code>+</code> one or more of the preceding match</li>
<li><code>[abc]</code> any one character of <code>a</code>, <code>b</code>, and <code>c</code></li>
<li><code>(RX1|RX2)</code> either something that matches <code>RX1</code> or <code>RX2</code></li>
<li><code>^</code> the start of the line</li>
<li><code>$</code> the end of the line</li>
</ul>
<p><code>sed</code>’s regular expressions are somewhat weird, and will require you to put a <code>\</code> before most of these to give them their special meaning. Or you can pass <code>-E</code>.</p>
<p>So, looking back at <code>/.*Disconnected from /</code>, we see that it matches any text that starts with any number of characters, followed by the literal string “Disconnected from ”. Which is what we wanted.</p>
<p> In some regular expression implementations, you can just suffix <code>*</code> or <code>+</code> with a <code>?</code> to make them non-greedy, but sadly <code>sed</code> doesn’t support that. We <em>could</em> switch to perl’s command-line mode though, which <em>does</em> support that construct:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl -pe <span class="string">&#x27;s/.*?Disconnected from //&#x27;</span></span><br></pre></td></tr></table></figure>

<p>we’re matching on any single word (<code>[^ ]+</code>; any non-empty sequence of non-space characters)</p>
<h3 id="Back-to-data-wrangling"><a href="#Back-to-data-wrangling" class="headerlink" title="Back to data wrangling"></a>Back to data wrangling</h3><p><code>sed</code> can do all sorts of other interesting things, like injecting text (with the <code>i</code> command), explicitly printing lines (with the <code>p</code> command), selecting lines by index, and lots of other things. Check <code>man sed</code>!</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh myserver journalctl</span><br><span class="line"> | grep sshd</span><br><span class="line"> | grep <span class="string">&quot;Disconnected from&quot;</span></span><br><span class="line"> | sed -E <span class="string">&#x27;s/.*Disconnected from (invalid |authenticating )?user (.*) [^ ]+ port [0-9]+( \[preauth\])?$/\2/&#x27;</span></span><br><span class="line"> | sort | uniq -c</span><br><span class="line"> | sort -nk1,1 | tail -n10</span><br></pre></td></tr></table></figure>

<p><code>sort</code> will, well, sort its input. <code>uniq -c</code> will collapse consecutive lines that are the same into a single line, prefixed with a count of the number of occurrences.</p>
<p><code>sort -n</code> will sort in numeric (instead of lexicographic) order. <code>-k1,1</code> means “sort by only the first whitespace-separated column”. The <code>,n</code> part says “sort until the <code>n</code>th field, where the default is the end of the line.</p>
<p>If we wanted the <em>least</em> common ones, we could use <code>head</code> instead of <code>tail</code>. There’s also <code>sort -r</code>, which sorts in reverse order.</p>
<p>what if we’d like these extract only the usernames as a comma-separated list instead of one per line, perhaps for a config file?</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh myserver journalctl</span><br><span class="line"> | grep sshd</span><br><span class="line"> | grep <span class="string">&quot;Disconnected from&quot;</span></span><br><span class="line"> | sed -E <span class="string">&#x27;s/.*Disconnected from (invalid |authenticating )?user (.*) [^ ]+ port [0-9]+( \[preauth\])?$/\2/&#x27;</span></span><br><span class="line"> | sort | uniq -c</span><br><span class="line"> | sort -nk1,1 | tail -n10</span><br><span class="line"> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> | paste -sd,</span><br></pre></td></tr></table></figure>

<p>Let’s start with <code>paste</code>: it lets you combine lines (<code>-s</code>) by a given single-character delimiter (<code>-d</code>; <code>,</code> in this case). But what’s this <code>awk</code> business?</p>
<h3 id="awk-–-another-editor"><a href="#awk-–-another-editor" class="headerlink" title="awk – another editor"></a>awk – another editor</h3><p><code>awk</code> is a programming language that just happens to be really good at processing text streams</p>
<p>First, what does <code>&#123;print $2&#125;</code> do? Well, <code>awk</code> programs take the form of an optional pattern plus a block saying what to do if the pattern matches a given line. The default pattern (which we used above) matches all lines. Inside the block, <code>$0</code> is set to the entire line’s contents, and <code>$1</code> through <code>$n</code> are set to the <code>n</code>th <em>field</em> of that line, when separated by the <code>awk</code> field separator (whitespace by default, change with <code>-F</code>). In this case, we’re saying that, for every line, print the contents of the second field, which happens to be the username!</p>
<p>Let’s see if we can do something fancier. Let’s compute the number of single-use usernames that start with <code>c</code> and end with <code>e</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">| awk <span class="string">&#x27;$1 == 1 &amp;&amp; $2 ~ /^c[^ ]*e$/ &#123; print $2 &#125;&#x27;</span> | wc -l</span><br></pre></td></tr></table></figure>

<p>There’s a lot to unpack here. First, notice that we now have a pattern (the stuff that goes before <code>&#123;...&#125;</code>). The pattern says that the first field of the line should be equal to 1 (that’s the count from <code>uniq -c</code>), and that the second field should match the given regular expression. And the block just says to print the username. We then count the number of lines in the output with <code>wc -l</code>.</p>
<p>However, <code>awk</code> is a programming language, remember?</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">BEGIN &#123; rows = 0 &#125;</span><br><span class="line"><span class="variable">$1</span> == 1 &amp;&amp; <span class="variable">$2</span> ~ /^c[^ ]*e$/ &#123; rows += <span class="variable">$1</span> &#125;</span><br><span class="line">END &#123; <span class="built_in">print</span> rows &#125;</span><br></pre></td></tr></table></figure>

<p><code>BEGIN</code> is a pattern that matches the start of the input (and <code>END</code> matches the end). Now, the per-line block just adds the count from the first field (although it’ll always be 1 in this case), and then we print it out at the end. In fact, we <em>could</em> get rid of <code>grep</code> and <code>sed</code> entirely, because <code>awk</code> <a target="_blank" rel="noopener" href="https://backreference.org/2010/02/10/idiomatic-awk/">can do it all</a>,</p>
<h3 id="Analyzing-data"><a href="#Analyzing-data" class="headerlink" title="Analyzing data"></a>Analyzing data</h3><p>You can do math directly in your shell using <code>bc</code>, a calculator that can read from STDIN! For example, add the numbers on each line together by concatenating them together, delimited by <code>+</code>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">| paste -sd+ | bc -l</span><br></pre></td></tr></table></figure>

<p>Or produce more elaborate expressions:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;2*(<span class="subst">$(data | paste -sd+)</span>)&quot;</span> | bc -l</span><br></pre></td></tr></table></figure>

<p>You can get stats in a variety of ways. <a target="_blank" rel="noopener" href="https://github.com/nferraz/st"><code>st</code></a> is pretty neat, but if you already have <a target="_blank" rel="noopener" href="https://www.r-project.org/">R</a>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh myserver journalctl</span><br><span class="line"> | grep sshd</span><br><span class="line"> | grep <span class="string">&quot;Disconnected from&quot;</span></span><br><span class="line"> | sed -E <span class="string">&#x27;s/.*Disconnected from (invalid |authenticating )?user (.*) [^ ]+ port [0-9]+( \[preauth\])?$/\2/&#x27;</span></span><br><span class="line"> | sort | uniq -c</span><br><span class="line"> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> </span><br><span class="line"> | R --no-echo -e <span class="string">&#x27;x &lt;- scan(file=&quot;stdin&quot;, quiet=TRUE); summary(x)&#x27;</span></span><br></pre></td></tr></table></figure>

<p>R is another (weird) programming language that’s great at data analysis and <a target="_blank" rel="noopener" href="https://ggplot2.tidyverse.org/">plotting</a>. We won’t go into too much detail, but suffice to say that <code>summary</code> prints summary statistics for a vector, and we created a vector containing the input stream of numbers, so R gives us the statistics we wanted!</p>
<p>If you just want some simple plotting, <code>gnuplot</code> is your friend:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh myserver journalctl</span><br><span class="line"> | grep sshd</span><br><span class="line"> | grep <span class="string">&quot;Disconnected from&quot;</span></span><br><span class="line"> | sed -E <span class="string">&#x27;s/.*Disconnected from (invalid |authenticating )?user (.*) [^ ]+ port [0-9]+( \[preauth\])?$/\2/&#x27;</span></span><br><span class="line"> | sort | uniq -c</span><br><span class="line"> | sort -nk1,1 | tail -n10</span><br><span class="line"> | gnuplot -p -e <span class="string">&#x27;set boxwidth 0.5; plot &quot;-&quot; using 1:xtic(2) with boxes&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="Data-wrangling-to-make-arguments"><a href="#Data-wrangling-to-make-arguments" class="headerlink" title="Data wrangling to make arguments"></a>Data wrangling to make arguments</h3><p>Sometimes you want to do data wrangling to find things to install or remove based on some longer list. The data wrangling we’ve talked about so far + <code>xargs</code> can be a powerful combo.</p>
<p>For example, as seen in lecture, I can use the following command to uninstall old nightly builds of Rust from my system by extracting the old build names using data wrangling tools and then passing them via <code>xargs</code> to the uninstaller:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rustup toolchain list | grep nightly | grep -vE <span class="string">&quot;nightly-x86&quot;</span> | sed <span class="string">&#x27;s/-x</span></span><br></pre></td></tr></table></figure>

<h3 id="Wrangling-binary-data"><a href="#Wrangling-binary-data" class="headerlink" title="Wrangling binary data"></a>Wrangling binary data</h3><p>So far, we have mostly talked about wrangling textual data, but pipes are just as useful for binary data. For example, we can use ffmpeg to capture an image from our camera, convert it to grayscale, compress it, send it to a remote machine over SSH, decompress it there, make a copy, and then display it.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ffmpeg -loglevel panic -i /dev/video0 -frames 1 -f image2 -</span><br><span class="line"> | convert - -colorspace gray -</span><br><span class="line"> | gzip</span><br><span class="line"> | ssh mymachine <span class="string">&#x27;gzip -d | tee copy.jpg | env DISPLAY=:0 feh -&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="五-Command-line-Envirnment"><a href="#五-Command-line-Envirnment" class="headerlink" title="五.Command-line Envirnment"></a>五.Command-line Envirnment</h2><h3 id="Job-Control"><a href="#Job-Control" class="headerlink" title="Job Control"></a>Job Control</h3><h4 id="Killing-a-process"><a href="#Killing-a-process" class="headerlink" title="Killing a process"></a>Killing a process</h4><p>shell is using a UNIX communication mechanism called a <em>signal</em> to communicate information to the process. When a process receives a signal it stops its execution, deals with the signal and potentially changes the flow of execution based on the information that the signal delivered. For this reason, signals are <em>software interrupts</em>.</p>
<ul>
<li><code>Ctrl-c</code>   —   <code>SIGINT</code></li>
<li><code>Ctrl-\</code>   —   <code>SIGQUIT</code></li>
</ul>
<p>While <code>SIGINT</code> and <code>SIGQUIT</code> are both usually associated with terminal related requests, a more generic signal for asking a process to exit gracefully is the <code>SIGTERM</code> signal. To send this signal we can use the <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/kill.1.html"><code>kill</code></a> command, with the syntax <code>kill -TERM &lt;PID&gt;</code>.</p>
<h4 id="Pausing-and-backgrounding-processes"><a href="#Pausing-and-backgrounding-processes" class="headerlink" title="Pausing and backgrounding processes"></a>Pausing and backgrounding processes</h4><p>Signals can do other things beyond killing a process. For instance, <code>SIGSTOP</code> pauses a process. In the terminal, typing <code>Ctrl-Z</code> will prompt the shell to send a <code>SIGTSTP</code> signal, short for Terminal Stop (i.e. the terminal’s version of <code>SIGSTOP</code>).</p>
<p>We can then continue the paused job in the foreground or in the background using <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/fg.1p.html"><code>fg</code></a> or <a target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man1/bg.1p.html"><code>bg</code></a>, respectively.</p>
<p>The <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/jobs.1p.html"><code>jobs</code></a> command lists the unfinished jobs associated with the current terminal session. You can refer to those jobs using their pid (you can use <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/pgrep.1.html"><code>pgrep</code></a> to find that out). More intuitively, you can also refer to a process using the percent symbol followed by its job number (displayed by <code>jobs</code>). To refer to the last backgrounded job you can use the <code>$!</code> special parameter.</p>
<p>One more thing to know is that the <code>&amp;</code> suffix in a command will run the command in the background, giving you the prompt back, although it will still use the shell’s STDOUT which can be annoying (use shell redirections in that case).</p>
<p>To background an already running program you can do <code>Ctrl-Z</code> followed by <code>bg</code>. Note that backgrounded processes are still children processes of your terminal and will die if you close the terminal (this will send yet another signal, <code>SIGHUP</code>). To prevent that from happening you can run the program with <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/nohup.1.html"><code>nohup</code></a> (a wrapper to ignore <code>SIGHUP</code>), or use <code>disown</code> if the process has already been started</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sleep 1000</span><br><span class="line">^Z</span><br><span class="line">[1]  + 18653 suspended  sleep 1000</span><br><span class="line"></span><br><span class="line">$ nohup sleep 2000 &amp;</span><br><span class="line">[2] 18745</span><br><span class="line">appending output to nohup.out</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">jobs</span></span><br><span class="line">[1]  + suspended  sleep 1000</span><br><span class="line">[2]  - running    nohup sleep 2000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">bg</span> %1</span><br><span class="line">[1]  - 18653 continued  sleep 1000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">jobs</span></span><br><span class="line">[1]  - running    sleep 1000</span><br><span class="line">[2]  + running    nohup sleep 2000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">kill</span> -STOP %1</span><br><span class="line">[1]  + 18653 suspended (signal)  sleep 1000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">jobs</span></span><br><span class="line">[1]  + suspended (signal)  sleep 1000</span><br><span class="line">[2]  - running    nohup sleep 2000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">kill</span> -SIGHUP %1</span><br><span class="line">[1]  + 18653 hangup     sleep 1000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">jobs</span></span><br><span class="line">[2]  + running    nohup sleep 2000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">kill</span> -SIGHUP %2</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">jobs</span></span><br><span class="line">[2]  + running    nohup sleep 2000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">kill</span> %2</span><br><span class="line">[2]  + 18745 terminated  nohup sleep 2000</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">jobs</span></span><br></pre></td></tr></table></figure>

<p>A special signal is <code>SIGKILL</code> since it cannot be captured by the process and it will always terminate it immediately. However, it can have bad side effects such as leaving orphaned children processes.</p>
<p> learn more about these and other signals <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Signal_(IPC)">here</a> or typing <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man7/signal.7.html"><code>man signal</code></a> or <code>kill -l</code>.</p>
<h3 id="Terminal-Multiplexers"><a href="#Terminal-Multiplexers" class="headerlink" title="Terminal Multiplexers"></a>Terminal Multiplexers</h3><p><code>tmux</code> expects you to know its keybindings, and they all have the form <code>&lt;C-b&gt; x</code> where that means (1) press <code>Ctrl+b</code>, (2) release <code>Ctrl+b</code>, and then (3) press <code>x</code>. <code>tmux</code> has the following hierarchy of objects:</p>
<ul>
<li><p><strong>Sessions</strong>  - a session is an independent workspace with one or more windows</p>
<ul>
<li><code>tmux</code> starts a new session.</li>
<li><code>tmux new -s NAME</code> starts it with that name.</li>
<li><code>tmux ls</code> lists the current sessions</li>
<li>Within <code>tmux</code> typing <code>&lt;C-b&gt; d</code> detaches the current session</li>
<li><code>tmux a</code> attaches the last session. You can use <code>-t</code> flag to specify which</li>
</ul>
</li>
<li><p><strong>Windows</strong> - Equivalent to tabs in editors or browsers, they are visually separate parts of the same session</p>
<ul>
<li><code>&lt;C-b&gt; c</code> Creates a new window. To close it you can just terminate the shells doing <code>&lt;C-d&gt;</code></li>
<li><code>&lt;C-b&gt; N</code> Go to the <em>N</em> th window. Note they are numbered</li>
<li><code>&lt;C-b&gt; p</code> Goes to the previous window</li>
<li><code>&lt;C-b&gt; n</code> Goes to the next window</li>
<li><code>&lt;C-b&gt; ,</code> Rename the current window</li>
<li><code>&lt;C-b&gt; w</code> List current windows</li>
</ul>
</li>
<li><p><strong>Panes</strong> - Like vim splits, panes let you have multiple shells in the same visual display.</p>
<ul>
<li><code>&lt;C-b&gt; &quot;</code> Split the current pane horizontally</li>
<li><code>&lt;C-b&gt; %</code> Split the current pane vertically</li>
<li><code>&lt;C-b&gt; &lt;direction&gt;</code> Move to the pane in the specified <em>direction</em>. Direction here means arrow keys.</li>
<li><code>&lt;C-b&gt; z</code> Toggle zoom for the current pane</li>
<li><code>&lt;C-b&gt; [</code> Start scrollback. You can then press <code>&lt;space&gt;</code> to start a selection and <code>&lt;enter&gt;</code> to copy that selection.</li>
<li><code>&lt;C-b&gt; &lt;space&gt;</code> Cycle through pane arrangements.</li>
</ul>
</li>
</ul>
<p>For further reading, <a target="_blank" rel="noopener" href="https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/">here</a> is a quick tutorial on <code>tmux</code> and <a target="_blank" rel="noopener" href="http://linuxcommand.org/lc3_adv_termmux.php">this</a> has a more detailed explanation that covers the original <code>screen</code> command. You might also want to familiarize yourself with <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/screen.1.html"><code>screen</code></a>, since it comes installed in most UNIX systems.</p>
<h3 id="Aliases"><a href="#Aliases" class="headerlink" title="Aliases"></a>Aliases</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Make shorthands for common flags</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">&quot;ls -lh&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Save a lot of typing for common commands</span></span><br><span class="line"><span class="built_in">alias</span> gs=<span class="string">&quot;git status&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gc=<span class="string">&quot;git commit&quot;</span></span><br><span class="line"><span class="built_in">alias</span> v=<span class="string">&quot;vim&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Save you from mistyping</span></span><br><span class="line"><span class="built_in">alias</span> sl=ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># Overwrite existing commands for better defaults</span></span><br><span class="line"><span class="built_in">alias</span> mv=<span class="string">&quot;mv -i&quot;</span>           <span class="comment"># -i prompts before overwrite</span></span><br><span class="line"><span class="built_in">alias</span> mkdir=<span class="string">&quot;mkdir -p&quot;</span>     <span class="comment"># -p make parent dirs as needed</span></span><br><span class="line"><span class="built_in">alias</span> df=<span class="string">&quot;df -h&quot;</span>           <span class="comment"># -h prints human readable format</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Alias can be composed</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">&quot;ls -A&quot;</span></span><br><span class="line"><span class="built_in">alias</span> lla=<span class="string">&quot;la -l&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To ignore an alias run it prepended with \</span></span><br><span class="line">\ls</span><br><span class="line"><span class="comment"># Or disable an alias altogether with unalias</span></span><br><span class="line"><span class="built_in">unalias</span> la</span><br><span class="line"></span><br><span class="line"><span class="comment"># To get an alias definition just call it with alias</span></span><br><span class="line"><span class="built_in">alias</span> ll</span><br><span class="line"><span class="comment"># Will print ll=&#x27;ls -lh&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="Dotfiles"><a href="#Dotfiles" class="headerlink" title="Dotfiles"></a>Dotfiles</h3><ul>
<li><code>bash</code> - <code>~/.bashrc</code>, <code>~/.bash_profile</code></li>
<li><code>git</code> - <code>~/.gitconfig</code></li>
<li><code>vim</code> - <code>~/.vimrc</code> and the <code>~/.vim</code> folder</li>
<li><code>ssh</code> - <code>~/.ssh/config</code></li>
<li><code>tmux</code> - <code>~/.tmux.conf</code></li>
</ul>
<p>What should you put in your dotfiles? You can learn about your tool’s settings by reading online documentation or <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Man_page">man pages</a>. Another great way is to search the internet for blog posts about specific programs, where authors will tell you about their preferred customizations. Yet another way to learn about customizations is to look through other people’s dotfiles: you can find tons of <a target="_blank" rel="noopener" href="https://github.com/search?o=desc&q=dotfiles&s=stars&type=Repositories">dotfiles repositories</a> on Github — see the most popular one <a target="_blank" rel="noopener" href="https://github.com/mathiasbynens/dotfiles">here</a> (we advise you not to blindly copy configurations though). <a target="_blank" rel="noopener" href="https://dotfiles.github.io/">Here</a> is another good resource on the topic.</p>
<h3 id="Remote-Machines"><a href="#Remote-Machines" class="headerlink" title="Remote Machines"></a>Remote Machines</h3><h4 id="Key-generation"><a href="#Key-generation" class="headerlink" title="Key generation"></a>Key generation</h4><p>To generate a pair you can run <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/ssh-keygen.1.html"><code>ssh-keygen</code></a>.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -o -a 100 -t ed25519 -f ~/.ssh/id_ed25519</span><br></pre></td></tr></table></figure>

<p> Use <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/ssh-agent.1.html"><code>ssh-agent</code></a> or <a target="_blank" rel="noopener" href="https://linux.die.net/man/1/gpg-agent"><code>gpg-agent</code></a> so you do not have to type your passphrase every time.</p>
<h4 id="Key-based-authentication"><a href="#Key-based-authentication" class="headerlink" title="Key based authentication"></a>Key based authentication</h4><p><code>ssh</code> will look into <code>.ssh/authorized_keys</code> to determine which clients it should let in. To copy a public key over you can use:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat .ssh/id_ed25519.pub | ssh foobar@remote <span class="string">&#x27;cat &gt;&gt; ~/.ssh/authorized_keys&#x27;</span></span><br></pre></td></tr></table></figure>

<p>A simpler solution can be achieved with <code>ssh-copy-id</code> where available:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-copy-id -i .ssh/id_ed25519 foobar@remote</span><br></pre></td></tr></table></figure>

<h4 id="Copying-files-over-SSH"><a href="#Copying-files-over-SSH" class="headerlink" title="Copying files over SSH"></a>Copying files over SSH</h4><p>There are many ways to copy files over ssh:</p>
<ul>
<li><code>ssh+tee</code>, the simplest is to use <code>ssh</code> command execution and STDIN input by doing <code>cat localfile | ssh remote_server tee serverfile</code>. Recall that <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/tee.1.html"><code>tee</code></a> writes the output from STDIN into a file.</li>
<li><a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/scp.1.html"><code>scp</code></a> when copying large amounts of files/directories, the secure copy <code>scp</code> command is more convenient since it can easily recurse over paths. The syntax is <code>scp path/to/local_file remote_host:path/to/remote_file</code></li>
<li><a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/rsync.1.html"><code>rsync</code></a> improves upon <code>scp</code> by detecting identical files in local and remote, and preventing copying them again. It also provides more fine grained control over symlinks, permissions and has extra features like the <code>--partial</code> flag that can resume from a previously interrupted copy. <code>rsync</code> has a similar syntax to <code>scp</code>.</li>
</ul>
<h4 id="SSH-Configuration"><a href="#SSH-Configuration" class="headerlink" title="SSH Configuration"></a>SSH Configuration</h4><p><code>~/.ssh/config</code>.</p>
<h4 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h4><p>if one has a connection with significant lag using ssh can become quite frustrating. <a target="_blank" rel="noopener" href="https://mosh.org/">Mosh</a>, the mobile shell, improves upon ssh, allowing roaming connections, intermittent connectivity and providing intelligent local echo.</p>
<p>Sometimes it is convenient to mount a remote folder. <a target="_blank" rel="noopener" href="https://github.com/libfuse/sshfs">sshfs</a> can mount a folder on a remote server locally, and then you can use a local editor.</p>
<h3 id="Shells-amp-Frameworks"><a href="#Shells-amp-Frameworks" class="headerlink" title="Shells &amp; Frameworks"></a>Shells &amp; Frameworks</h3><p>the <code>zsh</code> shell is a superset of <code>bash</code> and provides many convenient features out of the box such as:</p>
<ul>
<li>Smarter globbing, <code>**</code></li>
<li>Inline globbing/wildcard expansion</li>
<li>Spelling correction</li>
<li>Better tab completion/selection</li>
<li>Path expansion (<code>cd /u/lo/b</code> will expand as <code>/usr/local/bin</code>)</li>
</ul>
<p><strong>Frameworks</strong> can improve your shell as well. Some popular general frameworks are <a target="_blank" rel="noopener" href="https://github.com/sorin-ionescu/prezto">prezto</a> or <a target="_blank" rel="noopener" href="https://ohmyz.sh/">oh-my-zsh</a>, and smaller ones that focus on specific features such as <a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a> or <a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-history-substring-search">zsh-history-substring-search</a>. Shells like <a target="_blank" rel="noopener" href="https://fishshell.com/">fish</a> include many of these user-friendly features by default. Some of these features include:</p>
<ul>
<li>Right prompt</li>
<li>Command syntax highlighting</li>
<li>History substring search</li>
<li>manpage based flag completions</li>
<li>Smarter autocompletion</li>
<li>Prompt themes</li>
</ul>
<h3 id="Terminal-Emulators"><a href="#Terminal-Emulators" class="headerlink" title="Terminal Emulators"></a>Terminal Emulators</h3><p>Along with customizing your shell, it is worth spending some time figuring out your choice of <strong>terminal emulator</strong> and its settings. There are many many terminal emulators out there (here is a <a target="_blank" rel="noopener" href="https://anarc.at/blog/2018-04-12-terminal-emulators-1/">comparison</a>).</p>
<p>Since you might be spending hundreds to thousands of hours in your terminal it pays off to look into its settings. Some of the aspects that you may want to modify in your terminal include:</p>
<ul>
<li>Font choice</li>
<li>Color Scheme</li>
<li>Keyboard shortcuts</li>
<li>Tab/Pane support</li>
<li>Scrollback configuration</li>
<li>Performance (some newer terminals like <a target="_blank" rel="noopener" href="https://github.com/jwilm/alacritty">Alacritty</a> or <a target="_blank" rel="noopener" href="https://sw.kovidgoyal.net/kitty/">kitty</a> offer GPU acceleration).</li>
</ul>
<h2 id="六-Version-Control-Git"><a href="#六-Version-Control-Git" class="headerlink" title="六.Version Control (Git)"></a>六.Version Control (Git)</h2><h3 id="Git’s-data-model"><a href="#Git’s-data-model" class="headerlink" title="Git’s data model"></a>Git’s data model</h3><h4 id="Snapshots"><a href="#Snapshots" class="headerlink" title="Snapshots"></a>Snapshots</h4><p>Git models the history of a collection of files and folders within some top-level directory as a series of snapshots. In Git terminology, a file is called a “blob”, and it’s just a bunch of bytes. A directory is called a “tree”, and it maps names to blobs or trees (so directories can contain other directories). A snapshot is the top-level tree that is being tracked. For example, we might have a tree as follows:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&lt;root&gt; (tree)</span><br><span class="line">|</span><br><span class="line">+- foo (tree)</span><br><span class="line">|  |</span><br><span class="line">|  + bar.txt (blob, contents = <span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">|</span><br><span class="line">+- baz.txt (blob, contents = <span class="string">&quot;git is wonderful&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Git-command-line-interface"><a href="#Git-command-line-interface" class="headerlink" title="Git command-line interface"></a>Git command-line interface</h3><h4 id="Basics-1"><a href="#Basics-1" class="headerlink" title="Basics"></a>Basics</h4><ul>
<li><p><code>git help &lt;command&gt;</code>: get help for a git command</p>
</li>
<li><p><code>git init</code>: creates a new git repo, with data stored in the <code>.git</code> directory</p>
</li>
<li><p><code>git status</code>: tells you what’s going on</p>
</li>
<li><p><code>git add &lt;filename&gt;</code>: adds files to staging area</p>
</li>
<li><p><code>git commit</code>: creates a new commit</p>
<ul>
<li><p>Write <a target="_blank" rel="noopener" href="https://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html">good commit messages</a>!</p>
</li>
<li><p>Even more reasons to write <a target="_blank" rel="noopener" href="https://chris.beams.io/posts/git-commit/">good commit messages</a>!</p>
</li>
</ul>
</li>
<li><p><code>git log</code>: shows a flattened log of history</p>
</li>
<li><p><code>git log --all --graph --decorate</code>: visualizes history as a DAG</p>
</li>
<li><p><code>git diff &lt;filename&gt;</code>: show changes you made relative to the staging area</p>
</li>
<li><p><code>git diff &lt;revision&gt; &lt;filename&gt;</code>: shows differences in a file between snapshots</p>
</li>
<li><p><code>git checkout &lt;revision&gt;</code>: updates HEAD and current branch</p>
</li>
</ul>
<h4 id="Branching-and-merging"><a href="#Branching-and-merging" class="headerlink" title="Branching and merging"></a>Branching and merging</h4><ul>
<li><p><code>git branch</code>: shows branches</p>
</li>
<li><p><code>git branch &lt;name&gt;</code>: creates a branch</p>
</li>
<li><p><code>git checkout -b &lt;name&gt;</code>: creates a branch and switches to it</p>
<ul>
<li>same as <code>git branch &lt;name&gt;; git checkout &lt;name&gt;</code></li>
</ul>
</li>
<li><p><code>git merge &lt;revision&gt;</code>: merges into current branch</p>
</li>
<li><p><code>git mergetool</code>: use a fancy tool to help resolve merge conflicts</p>
</li>
<li><p><code>git rebase</code>: rebase set of patches onto a new base</p>
</li>
</ul>
<h4 id="Remotes"><a href="#Remotes" class="headerlink" title="Remotes"></a>Remotes</h4><ul>
<li><code>git remote</code>: list remotes</li>
<li><code>git remote add &lt;name&gt; &lt;url&gt;</code>: add a remote</li>
<li><code>git push &lt;remote&gt; &lt;local branch&gt;:&lt;remote branch&gt;</code>: send objects to remote, and update remote reference</li>
<li><code>git branch --set-upstream-to=&lt;remote&gt;/&lt;remote branch&gt;</code>: set up correspondence between local and remote branch</li>
<li><code>git fetch</code>: retrieve objects/references from a remote</li>
<li><code>git pull</code>: same as <code>git fetch; git merge</code></li>
<li><code>git clone</code>: download repository from remote</li>
</ul>
<h4 id="Undo"><a href="#Undo" class="headerlink" title="Undo"></a>Undo</h4><ul>
<li><code>git commit --amend</code>: edit a commit’s contents/message</li>
<li><code>git reset HEAD &lt;file&gt;</code>: unstage a file</li>
<li><code>git checkout -- &lt;file&gt;</code>: discard changes</li>
</ul>
<h4 id="Advanced-Git"><a href="#Advanced-Git" class="headerlink" title="Advanced Git"></a>Advanced Git</h4><ul>
<li><code>git config</code>: Git is <a target="_blank" rel="noopener" href="https://git-scm.com/docs/git-config">highly customizable</a></li>
<li><code>git clone --depth=1</code>: shallow clone, without entire version history</li>
<li><code>git add -p</code>: interactive staging</li>
<li><code>git rebase -i</code>: interactive rebasing</li>
<li><code>git blame</code>: show who last edited which line</li>
<li><code>git stash</code>: temporarily remove modifications to working directory</li>
<li><code>git bisect</code>: binary search history (e.g. for regressions)</li>
<li><code>.gitignore</code>: <a target="_blank" rel="noopener" href="https://git-scm.com/docs/gitignore">specify</a> intentionally untracked files to ignore</li>
</ul>
<h3 id="Miscellaneous-1"><a href="#Miscellaneous-1" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h3><ul>
<li><strong>GUIs</strong>: there are many <a target="_blank" rel="noopener" href="https://git-scm.com/downloads/guis">GUI clients</a> out there for Git. We personally don’t use them and use the command-line interface instead.</li>
<li><strong>Shell integration</strong>: it’s super handy to have a Git status as part of your shell prompt (<a target="_blank" rel="noopener" href="https://github.com/olivierverdier/zsh-git-prompt">zsh</a>, <a target="_blank" rel="noopener" href="https://github.com/magicmonty/bash-git-prompt">bash</a>). Often included in frameworks like <a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">Oh My Zsh</a>.</li>
<li><strong>Editor integration</strong>: similarly to the above, handy integrations with many features. <a target="_blank" rel="noopener" href="https://github.com/tpope/vim-fugitive">fugitive.vim</a> is the standard one for Vim.</li>
<li><strong>Workflows</strong>: we taught you the data model, plus some basic commands; we didn’t tell you what practices to follow when working on big projects (and there are <a target="_blank" rel="noopener" href="https://nvie.com/posts/a-successful-git-branching-model/">many</a> <a target="_blank" rel="noopener" href="https://www.endoflineblog.com/gitflow-considered-harmful">different</a> <a target="_blank" rel="noopener" href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow">approaches</a>).</li>
<li><strong>GitHub</strong>: Git is not GitHub. GitHub has a specific way of contributing code to other projects, called <a target="_blank" rel="noopener" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull requests</a>.</li>
<li><strong>Other Git providers</strong>: GitHub is not special: there are many Git repository hosts, like <a target="_blank" rel="noopener" href="https://about.gitlab.com/">GitLab</a> and <a target="_blank" rel="noopener" href="https://bitbucket.org/">BitBucket</a>.</li>
</ul>
<h3 id="Resources-1"><a href="#Resources-1" class="headerlink" title="Resources"></a>Resources</h3><ul>
<li><a target="_blank" rel="noopener" href="https://git-scm.com/book/en/v2">Pro Git</a> is <strong>highly recommended reading</strong>. Going through Chapters 1–5 should teach you most of what you need to use Git proficiently, now that you understand the data model. The later chapters have some interesting, advanced material.</li>
<li><a target="_blank" rel="noopener" href="https://ohshitgit.com/">Oh Shit, Git!?!</a> is a short guide on how to recover from some common Git mistakes.</li>
<li><a target="_blank" rel="noopener" href="https://eagain.net/articles/git-for-computer-scientists/">Git for Computer Scientists</a> is a short explanation of Git’s data model, with less pseudocode and more fancy diagrams than these lecture notes.</li>
<li><a target="_blank" rel="noopener" href="https://jwiegley.github.io/git-from-the-bottom-up/">Git from the Bottom Up</a> is a detailed explanation of Git’s implementation details beyond just the data model, for the curious.</li>
<li><a target="_blank" rel="noopener" href="https://smusamashah.github.io/blog/2017/10/14/explain-git-in-simple-words">How to explain git in simple words</a></li>
<li><a target="_blank" rel="noopener" href="https://learngitbranching.js.org/">Learn Git Branching</a> is a browser-based game that teaches you Git.</li>
</ul>
<h2 id="七-Debugging-and-Profiling"><a href="#七-Debugging-and-Profiling" class="headerlink" title="七.Debugging and Profiling"></a>七.Debugging and Profiling</h2><h3 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h3><ul>
<li>Printf debugging and Logging</li>
</ul>
<h3 id="Debuggers"><a href="#Debuggers" class="headerlink" title="Debuggers"></a>Debuggers</h3><p>Many programming languages come with some form of debugger. In Python this is the Python Debugger <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/pdb.html"><code>pdb</code></a>.</p>
<p>Here is a brief description of some of the commands <code>pdb</code> supports:</p>
<ul>
<li><strong>l</strong>(ist) - Displays 11 lines around the current line or continue the previous listing.</li>
<li><strong>s</strong>(tep) - Execute the current line, stop at the first possible occasion.</li>
<li><strong>n</strong>(ext) - Continue execution until the next line in the current function is reached or it returns.</li>
<li><strong>b</strong>(reak) - Set a breakpoint (depending on the argument provided).</li>
<li><strong>p</strong>(rint) - Evaluate the expression in the current context and print its value. There’s also <strong>pp</strong> to display using <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/pprint.html"><code>pprint</code></a> instead.</li>
<li><strong>r</strong>(eturn) - Continue execution until the current function returns.</li>
<li><strong>q</strong>(uit) - Quit the debugger.</li>
</ul>
<h3 id="Specialized-Tools"><a href="#Specialized-Tools" class="headerlink" title="Specialized Tools"></a>Specialized Tools</h3><p>Below are some examples of using <code>strace</code> or <code>dtruss</code> to show <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man2/stat.2.html"><code>stat</code></a> syscall traces for an execution of <code>ls</code>. For a deeper dive into <code>strace</code>, <a target="_blank" rel="noopener" href="https://blogs.oracle.com/linux/strace-the-sysadmins-microscope-v2">this article</a> and <a target="_blank" rel="noopener" href="https://jvns.ca/strace-zine-unfolded.pdf">this zine</a> are good reads.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># On Linux</span></span><br><span class="line">sudo strace -e lstat ls -l &gt; /dev/null</span><br><span class="line"><span class="comment"># On macOS</span></span><br><span class="line">sudo dtruss -t lstat64_extended ls -l &gt; /dev/null</span><br></pre></td></tr></table></figure>

<p>Under some circumstances, you may need to look at the network packets to figure out the issue in your program. Tools like <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/tcpdump.1.html"><code>tcpdump</code></a> and <a target="_blank" rel="noopener" href="https://www.wireshark.org/">Wireshark</a> are network packet analyzers that let you read the contents of network packets and filter them based on different criteria.</p>
<h3 id="Static-Analysis"><a href="#Static-Analysis" class="headerlink" title="Static Analysis"></a>Static Analysis</h3><p>For some issues you do not need to run any code. For example, just by carefully looking at a piece of code you could realize that your loop variable is shadowing an already existing variable or function name; or that a program reads a variable before defining it. Here is where <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Static_program_analysis">static analysis</a> tools come into play. Static analysis programs take source code as input and analyze it using coding rules to reason about its correctness.</p>
<h3 id="Profiling"><a href="#Profiling" class="headerlink" title="Profiling"></a>Profiling</h3><ul>
<li><em>Real</em> - Wall clock elapsed time from start to finish of the program, including the time taken by other processes and time taken while blocked (e.g. waiting for I/O or network)</li>
<li><em>User</em> - Amount of time spent in the CPU running user code</li>
<li><em>Sys</em> - Amount of time spent in the CPU running kernel code</li>
</ul>
<p>Most of the time when people refer to <em>profilers</em> they actually mean <em>CPU profilers</em>, which are the most common. There are two main types of CPU profilers: <em>tracing</em> and <em>sampling</em> profilers. Tracing profilers keep a record of every function call your program makes whereas sampling profilers probe your program periodically (commonly every millisecond) and record the program’s stack. They use these records to present aggregate statistics of what your program spent the most time doing. <a target="_blank" rel="noopener" href="https://jvns.ca/blog/2017/12/17/how-do-ruby---python-profilers-work-">Here</a> is a good intro article if you want more detail on this topic.</p>
<p>In languages like C or C++ memory leaks can cause your program to never release memory that it doesn’t need anymore. To help in the process of memory debugging you can use tools like <a target="_blank" rel="noopener" href="https://valgrind.org/">Valgrind</a> that will help you identify memory leaks.</p>
<p>As it was the case for <code>strace</code> for debugging, you might want to ignore the specifics of the code that you are running and treat it like a black box when profiling. The <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/perf.1.html"><code>perf</code></a> command abstracts CPU differences away and does not report time or memory, but instead it reports system events related to your programs. For example, <code>perf</code> can easily report poor cache locality, high amounts of page faults or livelocks. Here is an overview of the command:</p>
<ul>
<li><code>perf list</code> - List the events that can be traced with perf</li>
<li><code>perf stat COMMAND ARG1 ARG2</code> - Gets counts of different events related to a process or command</li>
<li><code>perf record COMMAND ARG1 ARG2</code> - Records the run of a command and saves the statistical data into a file called <code>perf.data</code></li>
<li><code>perf report</code> - Formats and prints the data collected in <code>perf.data</code></li>
</ul>
<p>One common way to display CPU profiling information for sampling profilers is to use a <a target="_blank" rel="noopener" href="http://www.brendangregg.com/flamegraphs.html">Flame Graph</a>, which will display a hierarchy of function calls across the Y axis and time taken proportional to the X axis. They are also interactive, letting you zoom into specific parts of the program and get their stack traces (try clicking in the image below).</p>
<p><a target="_blank" rel="noopener" href="http://www.brendangregg.com/FlameGraphs/cpu-bash-flamegraph.svg"><img src="http://www.brendangregg.com/FlameGraphs/cpu-bash-flamegraph.svg" alt="FlameGraph"></a></p>
<p>Call graphs or control flow graphs display the relationships between subroutines within a program by including functions as nodes and functions calls between them as directed edges. When coupled with profiling information such as the number of calls and time taken, call graphs can be quite useful for interpreting the flow of a program. In Python you can use the <a target="_blank" rel="noopener" href="https://pycallgraph.readthedocs.io/"><code>pycallgraph</code></a> library to generate them.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/A_Call_Graph_generated_by_pycallgraph.png" alt="Call Graph"></p>
<h3 id="Resource-Monitoring"><a href="#Resource-Monitoring" class="headerlink" title="Resource Monitoring"></a>Resource Monitoring</h3><ul>
<li><strong>General Monitoring</strong> - Probably the most popular is <a target="_blank" rel="noopener" href="https://htop.dev/"><code>htop</code></a>, which is an improved version of <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/top.1.html"><code>top</code></a>. <code>htop</code> presents various statistics for the currently running processes on the system. <code>htop</code> has a myriad of options and keybinds, some useful ones are: <code>&lt;F6&gt;</code> to sort processes, <code>t</code> to show tree hierarchy and <code>h</code> to toggle threads. See also <a target="_blank" rel="noopener" href="https://nicolargo.github.io/glances/"><code>glances</code></a> for similar implementation with a great UI. For getting aggregate measures across all processes, <a target="_blank" rel="noopener" href="http://dag.wiee.rs/home-made/dstat/"><code>dstat</code></a> is another nifty tool that computes real-time resource metrics for lots of different subsystems like I/O, networking, CPU utilization, context switches, &amp;c.</li>
<li><strong>I/O operations</strong> - <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man8/iotop.8.html"><code>iotop</code></a> displays live I/O usage information and is handy to check if a process is doing heavy I/O disk operations</li>
<li><strong>Disk Usage</strong> - <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/df.1.html"><code>df</code></a> displays metrics per partitions and <a target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man1/du.1.html"><code>du</code></a> displays <strong>d</strong>isk <strong>u</strong>sage per file for the current directory. In these tools the <code>-h</code> flag tells the program to print with <strong>h</strong>uman readable format. A more interactive version of <code>du</code> is <a target="_blank" rel="noopener" href="https://dev.yorhel.nl/ncdu"><code>ncdu</code></a> which lets you navigate folders and delete files and folders as you navigate.</li>
<li><strong>Memory Usage</strong> - <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man1/free.1.html"><code>free</code></a> displays the total amount of free and used memory in the system. Memory is also displayed in tools like <code>htop</code>.</li>
<li><strong>Open Files</strong> - <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man8/lsof.8.html"><code>lsof</code></a> lists file information about files opened by processes. It can be quite useful for checking which process has opened a specific file.</li>
<li><strong>Network Connections and Config</strong> - <a target="_blank" rel="noopener" href="https://www.man7.org/linux/man-pages/man8/ss.8.html"><code>ss</code></a> lets you monitor incoming and outgoing network packets statistics as well as interface statistics. A common use case of <code>ss</code> is figuring out what process is using a given port in a machine. For displaying routing, network devices and interfaces you can use <a target="_blank" rel="noopener" href="http://man7.org/linux/man-pages/man8/ip.8.html"><code>ip</code></a>. Note that <code>netstat</code> and <code>ifconfig</code> have been deprecated in favor of the former tools respectively.</li>
<li><strong>Network Usage</strong> - <a target="_blank" rel="noopener" href="https://github.com/raboof/nethogs"><code>nethogs</code></a> and <a target="_blank" rel="noopener" href="http://www.ex-parrot.com/pdw/iftop/"><code>iftop</code></a> are good interactive CLI tools for monitoring network usage.</li>
</ul>
<p>If you want to test these tools you can also artificially impose loads on the machine using the <a target="_blank" rel="noopener" href="https://linux.die.net/man/1/stress"><code>stress</code></a> command.</p>
<h2 id="八-Metaprogramming"><a href="#八-Metaprogramming" class="headerlink" title="八.Metaprogramming"></a>八.Metaprogramming</h2><h3 id="Build-systems"><a href="#Build-systems" class="headerlink" title="Build systems"></a>Build systems</h3><p><code>make</code> is one of the most common build systems out there, and you will usually find it installed on pretty much any UNIX-based computer. It has its warts, but works quite well for simple-to-moderate projects. When you run <code>make</code>, it consults a file called <code>Makefile</code> in the current directory. All the targets, their dependencies, and the rules are defined in that file. Let’s take a look at one:</p>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line"><span class="section">paper.pdf: paper.tex plot-data.png</span></span><br><span class="line">	pdflatex paper.tex</span><br><span class="line"></span><br><span class="line"><span class="section">plot-%.png: %.dat plot.py</span></span><br><span class="line">	./plot.py -i <span class="variable">$*</span>.dat -o <span class="variable">$@</span></span><br></pre></td></tr></table></figure>

<p>Each directive in this file is a rule for how to produce the left-hand side using the right-hand side. Or, phrased differently, the things named on the right-hand side are dependencies, and the left-hand side is the target. The indented block is a sequence of programs to produce the target from those dependencies. In <code>make</code>, the first directive also defines the default goal. If you run <code>make</code> with no arguments, this is the target it will build. Alternatively, you can run something like <code>make plot-data.png</code>, and it will build that target instead.</p>
<p>The <code>%</code> in a rule is a “pattern”, and will match the same string on the left and on the right. For example, if the target <code>plot-foo.png</code> is requested, <code>make</code> will look for the dependencies <code>foo.dat</code> and <code>plot.py</code>. </p>
<h3 id="Dependency-management"><a href="#Dependency-management" class="headerlink" title="Dependency management"></a>Dependency management</h3><p>With semantic versioning, every version number is of the form: major.minor.patch. The rules are:</p>
<ul>
<li>If a new release does not change the API, increase the patch version.</li>
<li>If you <em>add</em> to your API in a backwards-compatible way, increase the minor version.</li>
<li>If you change the API in a non-backwards-compatible way, increase the major version.</li>
</ul>
<h3 id="Continuous-integration-systems"><a href="#Continuous-integration-systems" class="headerlink" title="Continuous integration systems"></a>Continuous integration systems</h3><p>Continuous integration, or CI, is an umbrella term for “stuff that runs whenever your code changes”, and there are many companies out there that provide various types of CI, often for free for open-source projects. Some of the big ones are Travis CI, Azure Pipelines, and GitHub Actions. They all work in roughly the same way: you add a file to your repository that describes what should happen when various things happen to that repository. By far the most common one is a rule like “when someone pushes code, run the test suite”. When the event triggers, the CI provider spins up a virtual machines (or more), runs the commands in your “recipe”, and then usually notes down the results somewhere. You might set it up so that you are notified if the test suite stops passing, or so that a little badge appears on your repository as long as the tests pass.</p>
<h3 id="A-brief-aside-on-testing"><a href="#A-brief-aside-on-testing" class="headerlink" title="A brief aside on testing"></a>A brief aside on testing</h3><p>Most large software projects come with a “test suite”. You may already be familiar with the general concept of testing, but we thought we’d quickly mention some approaches to testing and testing terminology that you may encounter in the wild:</p>
<ul>
<li>Test suite: a collective term for all the tests</li>
<li>Unit test: a “micro-test” that tests a specific feature in isolation</li>
<li>Integration test: a “macro-test” that runs a larger part of the system to check that different feature or components work <em>together</em>.</li>
<li>Regression test: a test that implements a particular pattern that <em>previously</em> caused a bug to ensure that the bug does not resurface.</li>
<li>Mocking: to replace a function, module, or type with a fake implementation to avoid testing unrelated functionality. For example, you might “mock the network” or “mock the disk”.</li>
</ul>
<h2 id="九-Security-and-Cryptography"><a href="#九-Security-and-Cryptography" class="headerlink" title="九.Security and Cryptography"></a>九.Security and Cryptography</h2><ul>
<li><p>Entropy</p>
</li>
<li><p>Hash functions</p>
</li>
</ul>
<p>A rough specification of a hash function is as follows:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hash(value: array&lt;byte&gt;) -&gt; vector&lt;byte, N&gt;  (for some fixed N)</span><br></pre></td></tr></table></figure>

<p> A hash function has the following properties:</p>
<ul>
<li>Deterministic: the same input always generates the same output.</li>
<li>Non-invertible: it is hard to find an input <code>m</code> such that <code>hash(m) = h</code> for some desired output <code>h</code>.</li>
<li>Target collision resistant: given an input <code>m_1</code>, it’s hard to find a different input <code>m_2</code> such that <code>hash(m_1) = hash(m_2)</code>.</li>
<li>Collision resistant: it’s hard to find two inputs <code>m_1</code> and <code>m_2</code> such that <code>hash(m_1) = hash(m_2)</code> (note that this is a strictly stronger property than target collision resistance).</li>
</ul>
<p>Symmetric cryptography</p>
<p>Asymmetric cryptography</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Tryorish</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2023/06/24/missing-semester-%E4%B8%B0%E5%AF%8C%E4%BD%A0%E7%9A%84%E6%AD%A6%E5%99%A8%E5%BA%93/">http://example.com/2023/06/24/missing-semester-%E4%B8%B0%E5%AF%8C%E4%BD%A0%E7%9A%84%E6%AD%A6%E5%99%A8%E5%BA%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Tryorish</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/4.jfif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/10/23/xv6%E4%B9%8B%E6%97%85-lab0%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2022/05/07/%E5%AD%97%E8%8A%82%E9%9D%92%E8%AE%AD%E8%90%A5%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/"><img class="next-cover" src="/img/byte.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">字节青训营后端学习</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/tit.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Tryorish</div><div class="author-info__description">风虽大，都绕过我灵魂</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">12</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Tryorish/Tryorish.github.io"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Tryorish/Tryorish.github.io" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/img/qq.jpg" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">写在前面：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-Course-overview-the-shell"><span class="toc-number">3.</span> <span class="toc-text">一.Course overview + the shell</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-the-shell"><span class="toc-number">3.1.</span> <span class="toc-text">Using the shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Navigating-in-the-shell"><span class="toc-number">3.2.</span> <span class="toc-text">Navigating in the shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Connecting-programs"><span class="toc-number">3.3.</span> <span class="toc-text">Connecting programs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-versatile-and-powerful-tool"><span class="toc-number">3.4.</span> <span class="toc-text">A versatile and powerful tool</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-Shell-Tools-and-Scripting"><span class="toc-number">4.</span> <span class="toc-text">二.Shell Tools and Scripting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell-Scripting"><span class="toc-number">4.1.</span> <span class="toc-text">Shell Scripting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell-Tools"><span class="toc-number">4.2.</span> <span class="toc-text">Shell Tools</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Finding-how-to-use-commands"><span class="toc-number">4.2.1.</span> <span class="toc-text">Finding how to use commands</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Finding-files"><span class="toc-number">4.2.2.</span> <span class="toc-text">Finding files</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Finding-code"><span class="toc-number">4.2.3.</span> <span class="toc-text">Finding code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Finding-shell-commands"><span class="toc-number">4.2.4.</span> <span class="toc-text">Finding shell commands</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Directory-Navigation"><span class="toc-number">4.2.5.</span> <span class="toc-text">Directory Navigation</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-Editors-Vim"><span class="toc-number">5.</span> <span class="toc-text">三.Editors (Vim)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Modal-editing"><span class="toc-number">5.1.</span> <span class="toc-text">Modal editing</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Basics"><span class="toc-number">5.2.</span> <span class="toc-text">Basics</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Inserting-text"><span class="toc-number">5.2.1.</span> <span class="toc-text">Inserting text</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Buffers-tabs-and-windows"><span class="toc-number">5.2.2.</span> <span class="toc-text">Buffers, tabs, and windows</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Command-line"><span class="toc-number">5.2.3.</span> <span class="toc-text">Command-line</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim%E2%80%99s-interface-is-a-programming-language"><span class="toc-number">5.3.</span> <span class="toc-text">Vim’s interface is a programming language</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Movement"><span class="toc-number">5.3.1.</span> <span class="toc-text">Movement</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Selection"><span class="toc-number">5.3.2.</span> <span class="toc-text">Selection</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Edits"><span class="toc-number">5.3.3.</span> <span class="toc-text">Edits</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Counts"><span class="toc-number">5.3.4.</span> <span class="toc-text">Counts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Modifiers"><span class="toc-number">5.3.5.</span> <span class="toc-text">Modifiers</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Advanced-Vim"><span class="toc-number">5.4.</span> <span class="toc-text">Advanced Vim</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Search-and-replace"><span class="toc-number">5.4.1.</span> <span class="toc-text">Search and replace</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Multiple-windows"><span class="toc-number">5.4.2.</span> <span class="toc-text">Multiple windows</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Macros"><span class="toc-number">5.5.</span> <span class="toc-text">Macros</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resources"><span class="toc-number">5.6.</span> <span class="toc-text">Resources</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-Data-Wrangling"><span class="toc-number">6.</span> <span class="toc-text">四.Data Wrangling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Regular-expressions"><span class="toc-number">6.1.</span> <span class="toc-text">Regular expressions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Back-to-data-wrangling"><span class="toc-number">6.2.</span> <span class="toc-text">Back to data wrangling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk-%E2%80%93-another-editor"><span class="toc-number">6.3.</span> <span class="toc-text">awk – another editor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Analyzing-data"><span class="toc-number">6.4.</span> <span class="toc-text">Analyzing data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Data-wrangling-to-make-arguments"><span class="toc-number">6.5.</span> <span class="toc-text">Data wrangling to make arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Wrangling-binary-data"><span class="toc-number">6.6.</span> <span class="toc-text">Wrangling binary data</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-Command-line-Envirnment"><span class="toc-number">7.</span> <span class="toc-text">五.Command-line Envirnment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Job-Control"><span class="toc-number">7.1.</span> <span class="toc-text">Job Control</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Killing-a-process"><span class="toc-number">7.1.1.</span> <span class="toc-text">Killing a process</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pausing-and-backgrounding-processes"><span class="toc-number">7.1.2.</span> <span class="toc-text">Pausing and backgrounding processes</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Terminal-Multiplexers"><span class="toc-number">7.2.</span> <span class="toc-text">Terminal Multiplexers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Aliases"><span class="toc-number">7.3.</span> <span class="toc-text">Aliases</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dotfiles"><span class="toc-number">7.4.</span> <span class="toc-text">Dotfiles</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Remote-Machines"><span class="toc-number">7.5.</span> <span class="toc-text">Remote Machines</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Key-generation"><span class="toc-number">7.5.1.</span> <span class="toc-text">Key generation</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Key-based-authentication"><span class="toc-number">7.5.2.</span> <span class="toc-text">Key based authentication</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Copying-files-over-SSH"><span class="toc-number">7.5.3.</span> <span class="toc-text">Copying files over SSH</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SSH-Configuration"><span class="toc-number">7.5.4.</span> <span class="toc-text">SSH Configuration</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Miscellaneous"><span class="toc-number">7.5.5.</span> <span class="toc-text">Miscellaneous</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shells-amp-Frameworks"><span class="toc-number">7.6.</span> <span class="toc-text">Shells &amp; Frameworks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Terminal-Emulators"><span class="toc-number">7.7.</span> <span class="toc-text">Terminal Emulators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-Version-Control-Git"><span class="toc-number">8.</span> <span class="toc-text">六.Version Control (Git)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Git%E2%80%99s-data-model"><span class="toc-number">8.1.</span> <span class="toc-text">Git’s data model</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Snapshots"><span class="toc-number">8.1.1.</span> <span class="toc-text">Snapshots</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Git-command-line-interface"><span class="toc-number">8.2.</span> <span class="toc-text">Git command-line interface</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Basics-1"><span class="toc-number">8.2.1.</span> <span class="toc-text">Basics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Branching-and-merging"><span class="toc-number">8.2.2.</span> <span class="toc-text">Branching and merging</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Remotes"><span class="toc-number">8.2.3.</span> <span class="toc-text">Remotes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Undo"><span class="toc-number">8.2.4.</span> <span class="toc-text">Undo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Advanced-Git"><span class="toc-number">8.2.5.</span> <span class="toc-text">Advanced Git</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Miscellaneous-1"><span class="toc-number">8.3.</span> <span class="toc-text">Miscellaneous</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resources-1"><span class="toc-number">8.4.</span> <span class="toc-text">Resources</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83-Debugging-and-Profiling"><span class="toc-number">9.</span> <span class="toc-text">七.Debugging and Profiling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Debugging"><span class="toc-number">9.1.</span> <span class="toc-text">Debugging</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Debuggers"><span class="toc-number">9.2.</span> <span class="toc-text">Debuggers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Specialized-Tools"><span class="toc-number">9.3.</span> <span class="toc-text">Specialized Tools</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Static-Analysis"><span class="toc-number">9.4.</span> <span class="toc-text">Static Analysis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Profiling"><span class="toc-number">9.5.</span> <span class="toc-text">Profiling</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Resource-Monitoring"><span class="toc-number">9.6.</span> <span class="toc-text">Resource Monitoring</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB-Metaprogramming"><span class="toc-number">10.</span> <span class="toc-text">八.Metaprogramming</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-systems"><span class="toc-number">10.1.</span> <span class="toc-text">Build systems</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dependency-management"><span class="toc-number">10.2.</span> <span class="toc-text">Dependency management</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Continuous-integration-systems"><span class="toc-number">10.3.</span> <span class="toc-text">Continuous integration systems</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-brief-aside-on-testing"><span class="toc-number">10.4.</span> <span class="toc-text">A brief aside on testing</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D-Security-and-Cryptography"><span class="toc-number">11.</span> <span class="toc-text">九.Security and Cryptography</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/12/25/%E6%8F%90%E9%97%AE%E7%9A%84%E6%99%BA%E6%85%A7-%E8%AF%BB%E5%90%8E%E6%84%9F/" title="提问的智慧-读后感"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="提问的智慧-读后感"/></a><div class="content"><a class="title" href="/2024/12/25/%E6%8F%90%E9%97%AE%E7%9A%84%E6%99%BA%E6%85%A7-%E8%AF%BB%E5%90%8E%E6%84%9F/" title="提问的智慧-读后感">提问的智慧-读后感</a><time datetime="2024-12-25T03:32:29.000Z" title="发表于 2024-12-25 11:32:29">2024-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/01/visual-studio-2022%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE/" title="visual studio 2022安装及配置"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="visual studio 2022安装及配置"/></a><div class="content"><a class="title" href="/2024/07/01/visual-studio-2022%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE/" title="visual studio 2022安装及配置">visual studio 2022安装及配置</a><time datetime="2024-07-01T12:10:55.000Z" title="发表于 2024-07-01 20:10:55">2024-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/31/xv6-grep/" title="无题"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/10/31/xv6-grep/" title="无题">无题</a><time datetime="2023-10-31T03:46:08.554Z" title="发表于 2023-10-31 11:46:08">2023-10-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/27/xv6%E4%B9%8B%E6%97%85-lab1%20Xv6%20and%20utilities/" title="无题"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/10/27/xv6%E4%B9%8B%E6%97%85-lab1%20Xv6%20and%20utilities/" title="无题">无题</a><time datetime="2023-10-27T02:46:42.997Z" title="发表于 2023-10-27 10:46:42">2023-10-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/23/xv6%E4%B9%8B%E6%97%85-lab0%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="无题"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2023/10/23/xv6%E4%B9%8B%E6%97%85-lab0%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="无题">无题</a><time datetime="2023-10-23T09:21:23.337Z" title="发表于 2023-10-23 17:21:23">2023-10-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Tryorish</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="true" data-click="true"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>